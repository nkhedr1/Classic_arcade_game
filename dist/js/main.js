"use strict";var gameLevel=1,highestScore=1,Enemy=function(e,n){this.x=e,this.y=n,this.sprite="src/images/enemy-bug.png"};function Player(e,n){this.x=e,this.y=n,this.sprite="src/images/char-pink-girl.png"}Enemy.prototype.update=function(e){500<this.x&&(this.x=-200),this.x=this.x+gameLevel+40*Math.floor(5*Math.random()+1)*e},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y),this.x+70>player.x&&this.x<player.x+70&&player.y+50>this.y&&this.y+50>player.y&&(player.y=380,gameLevel=1,document.getElementById("level-number").innerHTML="<h2>Level ".concat(gameLevel,"</h2>"))},Player.prototype.update=function(e){this.y<40&&(this.y=380,highestScore===gameLevel&&++highestScore,++gameLevel,document.getElementById("level-number").innerHTML="<h2>Level ".concat(gameLevel,"</h2>"),document.getElementById("highest-score").innerHTML="<h2>Highest Score = ".concat(highestScore,"</h2>"))},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Player.prototype.handleInput=function(e){"up"===e&&40<=this.y?this.y-=83:"down"===e&&this.y<380?this.y+=83:"left"===e&&90<this.x?this.x-=100:"right"===e&&this.x<=300&&(this.x+=100),this.render()};var allEnemies=[],player=new Player(200,380),enemy1=new Enemy(-500,50),enemy2=new Enemy(-50,140),enemy3=new Enemy(-300,225);allEnemies.push(enemy1,enemy2,enemy3),document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])});var Engine=function(e){var t,n=e.document,r=e.window,i=n.createElement("canvas"),s=i.getContext("2d");function a(){var n,e=Date.now();n=(e-t)/1e3,allEnemies.forEach(function(e){e.update(n)}),player.update(),function(){var e,n,t=["src/images/water-block.png","src/images/stone-block.png","src/images/stone-block.png","src/images/stone-block.png","src/images/grass-block.png","src/images/grass-block.png"];for(s.clearRect(0,0,i.width,i.height),e=0;e<6;e++)for(n=0;n<5;n++)s.drawImage(Resources.get(t[e]),101*n,83*e);allEnemies.forEach(function(e){e.render()}),player.render()}(),t=e,r.requestAnimationFrame(a)}i.width=505,i.height=606,n.body.appendChild(i),Resources.load(["src/images/stone-block.png","src/images/water-block.png","src/images/grass-block.png","src/images/enemy-bug.png","src/images/char-boy.png","src/images/char-pink-girl.png"]),Resources.onReady(function(){t=Date.now(),a()}),e.ctx=s}(void 0);!function(){var t={},r=[];function n(e){if(t[e])return t[e];var n=new Image;n.onload=function(){t[e]=n,i()&&r.forEach(function(e){e()})},t[e]=!1,n.src=e}function i(){var e=!0;for(var n in t)t.hasOwnProperty(n)&&!t[n]&&(e=!1);return e}window.Resources={load:function(e){e instanceof Array?e.forEach(function(e){n(e)}):n(e)},get:function(e){return t[e]},onReady:function(e){r.push(e)},isReady:i}}();